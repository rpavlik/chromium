<!-- Copyright (c) 2001, Stanford University
     All rights reserved.

	 See the file LICENSE.txt for information on redistributing this software.  -->
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>New Page 1</title>
<link rel="stylesheet" type="text/css" href="chromium.css">
</head>

<body bgcolor="#FFFFFF">

<h1 class="PageHeading">Configuring the Provided SPU's</h1>
<p>This page provides a complete list of all the configuration parameters
supported by all SPU's shipped with Chromium ALPHA, arranged by SPU.&nbsp; If a
SPU has <i>no</i> configuration options, it is not listed here.</p>
<p>Example of setting SPU parameters are:</p>
<code>
spu = SPU('render')<br>
spu.Conf('window_geometry', [0, 0, 512, 512])<br>
spu.Conf('window_title', 'my window')<br>
spu.Conf('resizable', 1)<br>
<BR>
<code>
spu = SPU('tilesort')<br>
spu.Conf('bucket_mode', 'Uniform Grid')
</code>

<h2 class="PageSubHeading">Print SPU </h2>
<table border="1" width="100%">
  <tr class="ConfigTableHeader">
    <td width="19%">Parameter Name</td>
    <td width="12%">Value Types</td>
    <td width="115%">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption">log_file</td>
    <td width="12%" class="ConfigType">String</td>
    <td width="115%" class="ConfigDesc">Name of log file to generate.&nbsp; If this parameter is not
      specified, the Print SPU will send its output to standard error.  
	  If this is a relative path, the file will be created relative
	  to the current directory, which will usually be either the directory
	  that the server was launched from, or the start directory specified
	  for the application node.  If no start directory was specified, the
	  client log file will appear in the directory that <code>crappfaker</code>
	  was run from.</td>
  </tr>
</table>
<h2 class="PageSubHeading">Render SPU</h2>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="74">window_geometry</td>
    <td width="12%" class="ConfigType" height="74">4 Integers</td>
    <td width="115%" class="ConfigDesc" height="74">Geometry of the window to
      create.&nbsp; This is specified as four floating point numbers.&nbsp; The
      first two give the (<i>x</i>,<i>y</i>) position of the upper left corner
      of the window, relative to the upper left corner of the screen.&nbsp; The
      last two numbers give the width and height of the window,
      respectively.&nbsp; The default is [0, 0, 256, 256].</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">fullscreen</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If this flag is set, the <code>window_geometry</code>
      parameters will be ignored, and the created window will cover the entire
      screen.&nbsp; The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">ontop</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If this flag is set, the 
	  window will appear on top of all other windows.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">stencil_bits</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
    <td width="115%" class="ConfigDesc" height="38">Sets the number of required stencil
	  bits for the created window.  The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">try_direct</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
	<td width="115%" class="ConfigDesc" height="38"> If true, try to create a
	direct rendering visual.  X-Windows ONLY.  The default is 1.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">force_direct</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
	  If true, do not allow the SPU to start if a direct rendering
	  visual is not available.  X-Windows ONLY.  The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">window_title</td>
    <td width="12%" class="ConfigType" height="38">String</td>
    <td width="115%" class="ConfigDesc" height="38">
	  Specifies the text to display in the titlebar of the window.
          Default is "Chromium Render SPU".</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">system_gl_path</td>
    <td width="12%" class="ConfigType" height="38">String</td>
    <td width="115%" class="ConfigDesc" height="38">
          Specifies the directory (path to) the OpenGL library to use.
          Default (on IRIX/Linux) is /usr/lib.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">show_cursor</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
          If non-zero, render a <em>virtual cursor</em> which tracks the
          location of the user's mouse pointer in the application window.
          This typically only works well with applications that constantly
          redraw the 3D window's contents.  Default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">render_to_app_window</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
          If non-zero, the render SPU will render back into the original
          application window, instead of creating a new window.
          Default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">resizable</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
          If non-zero, the render SPU window will be resizable by the user.
          The readback SPU also recognizes this flag and will adjust its
          window size accordingly.
          Default is 0.</td>
  </tr>
</table>

<h2 class="PageSubHeading">Readback SPU</h2>
<p>
Since the readback SPU is derived from the render SPU, it accepts all
configuration options that the render SPU accepts, plus a few more:
</p>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="74">extract_depth</td>
    <td width="12%" class="ConfigType" height="74">Boolean</td>
    <td width="115%" class="ConfigDesc" height="74">If set to 1, the depth
      buffer values will be used to do <em>Z-compositing</em> of the color
      images.  This is used for <em>sort-last</em> configurations.
      The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="74">extract_alpha</td>
    <td width="12%" class="ConfigType" height="74">Boolean</td>
    <td width="115%" class="ConfigDesc" height="74">If set to 1, the alpha
      values will be sent along with the RGB values.
      The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">local_visualization</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If set to 1, SwapBuffers
      will be issued by the readback SPU so that you can actually see what's
      being rendered by the SPU.  The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">visualize_depth</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If set to 1, the depth
      buffer values will be sent downstream as a luminance image, rather
      than sending the RGB image.  This allows one to see the Z buffer
      values as a grayscale image.  The default is 0.</td>
  </tr>
</table>

<h2 class="PageSubHeading">Tilesort SPU</h2>

<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="74">split_begin_end</td>
    <td width="12%" class="ConfigType" height="74">Boolean</td>
    <td width="115%" class="ConfigDesc" height="74">If this flag is set, the
      Tilesort SPU will break blocks of geometry into pieces if they happen to
      fall on a buffer boundary.&nbsp; This can happen if a lot of geometry is
      specified with no state changes, or if the MTU is small.&nbsp; If the flag
      is <i>not</i> set, then the Tilesort SPU will simply grow the geometry
      buffer beyond the MTU.&nbsp; The default is 1.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">bucket_mode</td>
    <td width="12%" class="ConfigType" height="38">Enum</td>
    <td width="115%" class="ConfigDesc" height="38">
      This option controls how primitives are bucketed or sorted among the
      render servers.
      Possible values are:
      <ul>
      <li><B>'Broadcast'</B> - send all primitives to all servers.
      <li><B>'Test All Tiles'</B> - test each primitive's bounding box against
         all tile's bounds.  This is the default value.
      <li><B>'Uniform Grid'</B> - the tiles form a regular grid with uniform
         column widths and row heights.  Use a specially optimized bucketing
         algorithm.
      <li><B>'Non-Uniform Grid'</B> - the tiles form a regular grid but the
         columns and rows don't all have the same width or height.  An
         optimized bucketing algorithm will be used, but it's not as efficient
         as the Uniform Grid option.
      <li><B>'Random'</B> - primitives are sent to a randomly-chosen server.
      <li><B>'Warped Grid'</B> - the grid tiles do not form a uniform grid of
         any sort.  Test primitive's bounding boxes against all tiles, without
         trivial rejection (slow).
      </ul>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">broadcast</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
      <B>(This option is obsolete, use bucket_mode instead)</B>
      If this flag is set, the
      bucketing algorithm will be disabled, and all geometry will be broadcast
      to all servers.&nbsp; The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">optimize_bucket</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">
      <B>(This option is obsolete, use bucket_mode instead)</B>
      If this flag is set, a more
      sophisticated algorithm will be used to compute the intersection between
      the screen-space bounding box and the set of tiles.&nbsp; However, this
      algorithm <i>only</i> works if the tiling is completely regular; i.e.,
      each tile is the same size, and they form a perfectly rectangular output
      space.&nbsp; If the flag is <i>not </i>set, the bounding box will just be
      tested against each tile in turn.&nbsp; The default is 1.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">sync_on_swap</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If this flag is set, the
      Tilesort SPU will wait for a <code>SwapBuffers</code> call to be executed
      by all servers before continuing.&nbsp; This will keep the client
      application from getting more than one frame ahead of any of the servers,
      but it requires a round-trip network packet from each server.&nbsp; The
      default is 1.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">sync_on_finish</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If this flag is set, the
      Tilesort SPU will wait for a <code>glFinish</code> call to be executed by
      all servers before continuing.&nbsp; The default is 1.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">draw_bbox</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If this flag is set, the
      Tilesort SPU will add commands to the stream to draw the object-space
      bounding box around each block of geometry that is sent.&nbsp; This is
      useful for seeing the computed granularity of work, but it makes the
      stream of graphics commands more complex and uses some slow OpenGL
      commands like <code>glPushAttrib</code>.&nbsp; The default is 0.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">bbox_line_width</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">The width in pixels of the
	lines used to draw the bounding box.&nbsp; If the <code>draw_bbox</code>
	flag is not set, this parameter has no effect.&nbsp; The default is 5.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">fake_window_dims</td>
    <td width="12%" class="ConfigType" height="38">2 Floats</td>
    <td width="115%" class="ConfigDesc" height="38">This parameter provides a
      way to use <code>glViewport</code> or <code>glScissor</code> calls with
      applications that do not have a window.&nbsp; The Tilesort SPU's <code>glViewport</code>
      implementation will determine the size of the client window (if it exists)
      to determine what part of the output space the client is trying to
      restrict drawing to.&nbsp; However, if the Chromium context has been
      created out of thin air (i.e., with the <a href="parallelapplication.html">crCreateContext
      call</a>), the fake window dimensions will be returned.&nbsp; If these
      parameters are <i>not</i> set, and there is no client window, using <code>glViewport</code>
      or <code>glScissor</code> will cause a fatal run-time error.</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">scale_to_mural_size</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
    <td width="115%" class="ConfigDesc" height="38">If set to 1, the OpenGL
      viewport will be rescaled to match the mural size (usually the desired
      behaviour).  If set to 0, the viewport will not be rescaled.  This is
      useful for conformance testing.  The default is 1.</td>
  </tr>
</table>

<h2 class="PageSubHeading">Saveframe SPU</h2>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="74">geometry</td>
    <td width="12%" class="ConfigType" height="74">4 Integers</td>
    <td width="115%" class="ConfigDesc" height="74">
      Geometry of the frame to save.  This is specified as four integer
      numbers.&nbsp; The first two give the (<i>x</i>,<i>y</i>) position of
      the upper left corner of the frame, relative to the upper left corner
      of the window.&nbsp; The last two numbers give the width and height
      of the frame, respectively.  Any call to glViewport will override any
      settings given in this parameter.  If no glViewport call has been
      made, and no geometry is set, the saveframe SPU does nothing.

    </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">spec</td>
    <td width="12%" class="ConfigType" height="38">String</td>
    <td width="115%" class="ConfigDesc" height="38">
      A full specification of the filename to which to save frames. This
      should include a path (absolute or relative to the working directory
      of the crserver) and a filename. The filename should have <code>%d</code>
      in it to indicate where the frame number should be inserted.
      <b>Note</b>: In Python strings, the percent sign is interpreted, so
      you must insert a percent sign with <code>%%</code> instead of <code>%</code>.
      For example, <code>saveframespu.Conf( "spec", "myMovie/frame%%d.ppm" )</code>
      would save frames in the <code>myMovie</code> directory (assumed to be
      present in the working directory where crserver is started). Frames
      would be named <code>frame1.ppm</code>, <code>frame2.ppm</code>, 
      <code>frame3.ppm</code>, ...  <code>frame<i>n</i>.ppm</code>. 
      The default is "<code>frame%04d.ppm</code>".
    </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">basename</td>
    <td width="12%" class="ConfigType" height="38">String</td>
    <td width="115%" class="ConfigDesc" height="38">
      <b>Note</b>: This option is obsolete. Use the <code>spec</code> option instead.
      Base of the filename to which to save files.  All files will have a
      four-digit frame number and <code>.ppm</code> appended to them.  Example:
      <code>frame0000.ppm</code>.  This parameter allows you to modify the
      filename.  There is no default. If both a basename and spec option are
      given, the spec option overrides the basename.
    </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">format</td>
    <td width="12%" class="ConfigType" height="38">String</td>
    <td width="115%" class="ConfigDesc" height="38">
      The format option specifies the file format used to save frames.
      Currently, it must be "<code>ppm</code>" or "<code>jpg</code>".
      The default is "<code>ppm</code>".
    </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">stride</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
    <td width="115%" class="ConfigDesc" height="38">
      Sets the number of frames to skip.  The default is 1.  This means
      that every frame is saved.  Setting to 2 means to only save every
      other frame.
    </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">single</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
	<td width="115%" class="ConfigDesc" height="38">
          Specifies saving a single frame.
          If this parameter is set, the saveframe SPU will only save a
          single frame.  Set this to the frame number of the frame to save.
          The default is unset.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">binary</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
	<td width="115%" class="ConfigDesc" height="38">
          Specifies whether the PPM should be binary or not.
          If this parameter is set to true, saved images will be in "raw"
          PPM format.  If this parameter is set to false, saved images will
          be in "ascii" PPM format.  The default is true (binary).

        </td>
  </tr>
</table>

<h2 class="PageSubHeading">Motionblur SPU</h2>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">blur</td>
    <td width="12%" class="ConfigType" height="38">Enum</td>
	<td width="115%" class="ConfigDesc" height="38">
	  This specifies the amount of motion blur.
          Legal values are 'Little', 'Medium', 'Lots', and 'Extreme'.
          The default is 'Medium'.
        </td>
  </tr>
</table>

<h2 class="PageSubHeading">Hiddenline SPU</h2>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">buffer_size</td>
    <td width="12%" class="ConfigType" height="38">int</td>
	<td width="115%" class="ConfigDesc" height="38">
          The size of command buffer used for recording OpenGL commands
          (in bytes).  Default is 32768.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">poly_color</td>
    <td width="12%" class="ConfigType" height="38">3 Floats</td>
	<td width="115%" class="ConfigDesc" height="38">
	  Sets the polygon color (red, green, blue).
          Default is pale yellow (0.75, 0.75. 0.75).
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">line_color</td>
    <td width="12%" class="ConfigType" height="38">3 Floats</td>
	<td width="115%" class="ConfigDesc" height="38">
	  Sets the line color (red, green, blue).
          Default is pale black (0, 0, 0).
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">line_width</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">
	  Sets the line width (in pixels).  Default is 1.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">single_clear</td>
    <td width="12%" class="ConfigType" height="38">Boolean</td>
	<td width="115%" class="ConfigDesc" height="38">
          Controls whether glClear commands are ignored when issued but
          later called in SwapBuffers.  Default is true.
          You may need to set this to false for sort-last rendering.
        </td>
  </tr>
</table>


<h2 class="PageSubHeading">Wet SPU</h2>
<table border="1" width="100%" height="149">
  <tr class="ConfigTableHeader">
    <td width="19%" height="19">Parameter Name</td>
    <td width="12%" height="19">Value Types</td>
    <td width="115%" height="19">Description</td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">density</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
	<td width="115%" class="ConfigDesc" height="38">
          Description?
          Default is 5.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">raininess</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
	<td width="115%" class="ConfigDesc" height="38">
          Description?
          Default is 10.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">mesh_dice</td>
    <td width="12%" class="ConfigType" height="38">Integer</td>
	<td width="115%" class="ConfigDesc" height="38">
          Number of rows and columns of control points in the underlying
          quadrilateral mesh which is distorted.
          Default is 100 rows and columns.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">ripple_freq</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">
          Ripple frequency.  Default is 2.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">ripple_scale</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">
          Scale factor for water ripples.  Default is 1.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">time_scale</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">
          Time scale factor.  Default is 1.
        </td>
  </tr>
  <tr>
    <td width="19%" class="ConfigOption" height="38">ior</td>
    <td width="12%" class="ConfigType" height="38">Float</td>
	<td width="115%" class="ConfigDesc" height="38">
          Index of refraction (between air and water?).
          Default is 1.2.
        </td>
  </tr>

</table>


<br>

</body>

</html>
